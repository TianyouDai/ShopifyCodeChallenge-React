{"version":3,"sources":["index.js"],"names":["Title","props","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","name","Datalist","lst","dup","k","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","data","Symbol","iterator","next","done","item","value","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","keywords","word","push","key","err","return","id","Search","_this","Object","C_Users_diana_Downloads_shopify_react_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","C_Users_diana_Downloads_shopify_react_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_diana_Downloads_shopify_react_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","val","setState","onSearch","_this2","SearchField","onModify","handelChange","SearchBox","React","Component","e","keyCode","target","_this3","type","list","onKeyUp","handelKeypress","_this4","onClick","Results","_this5","res","fav_lst","fav","map","x","uid","results","starClass","includes","uid_key","title","dangerouslySetInnerHTML","__html","body","Fav","_this6","length","App","_this7","_this8","axios","get","then","response","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","decodeHtml","btoa","replace","split","flat","filter","keyDict","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","keywordsDict","objectDict","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","obj","data_lst","words","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","terms","new_results","searchData","_this9","status","params","concat","favourites","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","_this10","searchHandeler","clickHandeler","html","txt","document","innerHTML","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.9ab4ff90.chunk.js","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport axios from 'axios'\n\nfunction Title(props) {\n  return (\n    <h1 className=\"title-area\">\n      {props.name}\n    </h1>\n  );\n}\n\nfunction Datalist(props) {\n\n    let lst = [];\n    let dup = {}\n    let k = 0\n    for (let item of props.data) {\n        for (let word of item.keywords) {\n\n            // remove duplicates\n            if (word in dup) continue;\n            dup[word] = true;\n            \n            lst.push(<option value={word} key={k}/>)\n            k += 1\n        }\n    }\n\n    return (\n      <datalist id=\"keywords\">\n        {lst}\n      </datalist>\n    );\n}\n\nclass Search extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        value: \"\"\n      };\n    }\n\n    handelChange(val) {\n        // if user clears the search field, trigger a search\n        this.setState({value: val});\n        if (val === \"\") this.props.onSearch(\"\");\n    }\n\n    render() {\n        return (\n            <div className=\"search-area\">\n                <SearchField\n                    onSearch={() => this.props.onSearch(this.state.value)}\n                    onModify={(val) => this.handelChange(val)}\n                />\n                <SearchBox\n                    onSearch={() => this.props.onSearch(this.state.value)}\n                />\n            </div>\n        );\n    }\n}\n\nclass SearchField extends React.Component {\n    handelKeypress(e) {\n        // if the keypress is enter then trigger a search\n        if (e.keyCode === 13) this.props.onSearch();\n        this.props.onModify(e.target.value)\n    }\n\n    render() {\n        return (\n            <input\n                className=\"search-field\"\n                type=\"text\"\n                name=\"query\"\n                list=\"keywords\"\n                onKeyUp={(e) => this.handelKeypress(e)}\n            />\n        );\n    }\n}\n\nclass SearchBox extends React.Component {\n    render() {\n        return (\n            <div className=\"search-box-area\">\n                <div\n                    className=\"search-box\"\n                    onClick={() => this.props.onSearch()}\n                >\n                    <i className=\"fas fa-search fa-2x\"></i>\n                </div>\n            </div>\n        );\n    }\n}\n\nclass Results extends React.Component {\n    render() {\n\n        const res = this.props.res\n        const fav_lst = this.props.fav.map(x => x.uid)\n\n        const results = res.map((item) => {\n\n            const starClass = (fav_lst.includes(item.uid))? \"fas fa-star fav\" : \"fas fa-star\";\n            const uid_key = item.uid\n\n            return (\n                <div className=\"result-row\" key={uid_key}>\n                    <i className={starClass} onClick={() => this.props.onClick(item.uid)} key={uid_key + \"0\"}></i>\n                    <div className=\"result-title\" key={uid_key + \"1\"}>{item.title}</div>\n                    <div\n                        className=\"result-body\"\n                        key={uid_key + \"2\"}\n                        dangerouslySetInnerHTML={{__html: item.body}}>\n                    </div>\n                </div>\n            );\n        });\n\n        return (\n            <div className=\"result-area\">\n                {results}\n            </div>\n        );\n    }\n}\n\nclass Fav extends React.Component {\n    render() {\n        const fav = this.props.fav\n\n        // don't render if no favourites\n        if (fav.length <= 0) return (<div></div>);\n\n        const results = fav.map((item) => {\n\n            const uid_key = item.uid + \"fav\"\n\n            return (\n                <div className=\"result-row\" key={uid_key}>\n                    <i className=\"fas fa-star fav\" onClick={() => this.props.onClick(item.uid)} key={uid_key + \"0\"}></i>\n                    <div className=\"result-title\" key={uid_key + \"1\"}>{item.title}</div>\n                    <div\n                        className=\"result-body\"\n                        key={uid_key + \"2\"}\n                        dangerouslySetInnerHTML={{__html: item.body}}>\n                    </div>\n                </div>\n            );\n        });\n\n        return (\n            <div className=\"favourite-area\">\n                <h2 className=\"favourite-title\">Favourites</h2>\n                <div className=\"favourite-result-area\">\n                    {results}\n                </div>\n            </div>\n        );\n    }\n}\n\nclass App extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        data:    [], // the data from the API (retrived once per page load)\n        results: [], // the results from the last search\n        fav:     []  // the currently favourited objects\n      };\n    }\n\n    componentDidMount() {\n        axios.get(\"https://secure.toronto.ca/cc_sr_v1/data/swm_waste_wizard_APR?limit=1000\").then(response => {\n\n            for (let item of response.data) {\n                item.body = decodeHtml(item.body)\n\n                // assuming that title is a unique identifier for a given object\n                item.uid = btoa(item.title)\n\n                // seperate out keywords\n                let kw_list = item.keywords.replace(\"(\", \"\").replace(\")\", \"\").split(\", \")\n                let keywords = kw_list.map(x => x.split(\" \")).flat().filter(x => x !== \"\")\n                item.keywords = keywords\n\n                let keyDict = {}\n                for (let word of keywords) keyDict[word] = true\n                item.keywordsDict = keyDict\n            }\n\n            let objectDict = {}\n            for (let obj of response.data) {\n                objectDict[obj.uid] = obj\n            }\n\n            axios.get(\"https://0rl0n06sj6.execute-api.us-east-1.amazonaws.com/default/getFavourites\").then(response => {\n                // get favourites\n                let fav = response.data.map(x => x.uid)\n\n                let fav_lst  = []\n                let data_lst = []\n\n                for (let uid in objectDict) {\n                    data_lst.push(objectDict[uid])\n                    if (fav.includes(uid)) fav_lst.push(objectDict[uid])\n                }\n\n                this.setState({data: data_lst, fav: fav_lst})\n            })\n        })\n    }\n\n    // helper function for searching data\n    // words:   list of words to return results for\n    // returns: list of object that match the words\n    searchData(words) {\n\n        let results = []\n        for (let item of this.state.data) {\n\n            let found = false\n            for (let word of words) {\n\n                if (word in item.keywordsDict) {\n\n                    results.push(item)\n                    found = true\n                    break;\n\n                }\n            }\n\n            if (found) continue;\n        }\n        return results;\n    }\n\n    searchHandeler(terms) {\n        terms = terms.split(\" \")\n        let new_results = this.searchData(terms)\n        this.setState({results: new_results})\n    }\n\n    // a star is clicked\n    clickHandeler(uid) {\n\n        const fav = this.state.fav.map(x => x.uid)\n        const status = (fav.includes(uid)) ? false : true\n\n        const url    = \"https://0rl0n06sj6.execute-api.us-east-1.amazonaws.com/default/setFavorite?\";\n        const params = `uid=${uid}&status=${status}`;\n\n        axios.get(url + params).then(response => {\n            axios.get(\"https://0rl0n06sj6.execute-api.us-east-1.amazonaws.com/default/getFavourites\").then(favourites => {\n\n                // the current favourites\n                let fav = favourites.data.map(x => x.uid)\n\n                // new favourites and data\n                let fav_lst = []\n                for (let item of this.state.data) {\n                    if (fav.includes(item.uid)) fav_lst.push(item)\n                }\n\n                // including results to trigger re-render\n                this.setState({fav: fav_lst})\n            })\n        })\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <Title name=\"Toronto Waste Lookup\" />\n                <div className=\"content-area\">\n                    <Search onSearch={(terms) => this.searchHandeler(terms)} />\n                    <Results onClick={(uid) => this.clickHandeler(uid)} res={this.state.results} fav={this.state.fav}/>\n                    <Fav onClick={(uid) => this.clickHandeler(uid)} fav={this.state.fav} />\n                </div>\n                <Datalist data={this.state.data} />\n            </div>\n        );\n    }\n}\n\n// Helper functions\n\nfunction decodeHtml(html) {\n    var txt = document.createElement(\"textarea\");\n    txt.innerHTML = html;\n    return txt.value;\n}\n\n// ========================================\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}